{% extends "base.html" %}
{% block title %}Producers{% endblock %}
{% block content %}
<div class="page-header d-flex justify-content-between align-items-center">
    <div><h1><i class="bi bi-person-video3 me-2 text-accent"></i>Producers</h1></div>
    <a href="{{ url_for('employee.create_producer') }}" class="btn btn-accent"><i class="bi bi-plus-circle me-2"></i>Add</a>
</div>
<div class="card"><div class="card-body p-0">
<table class="table table-hover mb-0">
<thead><tr><th>ID</th><th>Name</th><th>Email</th><th>Phone</th><th>Associations</th><th>Actions</th></tr></thead>
<tbody>
{% for p in producers %}
<tr>
    <td><code>{{ p.PRODUCER_ID }}</code></td>
    <td>{{ p.FIRST_NAME }} {{ p.LAST_NAME }}</td>
    <td>{{ p.EMAIL_ADDR }}</td>
    <td>{{ p.PHONE_NUMBER }}</td>
    <td>{{ p.house_count }}</td>
    <td>
        <div class="btn-group btn-group-sm">
            <a href="{{ url_for('employee.edit_producer', producer_id=p.PRODUCER_ID) }}" class="btn btn-dark"><i class="bi bi-pencil"></i></a>
            <form method="POST" action="{{ url_for('employee.delete_producer', producer_id=p.PRODUCER_ID) }}" class="d-inline" onsubmit="return confirm('Delete?')">
                <button type="submit" class="btn btn-dark text-danger"><i class="bi bi-trash"></i></button>
            </form>
        </div>
    </td>
</tr>
{% else %}
<tr><td colspan="6" class="text-center text-muted py-4">No producers.</td></tr>
{% endfor %}
</tbody>
</table>
</div></div>
{% endblock %}
