{% extends "base.html" %}
{% block title %}Schedules - {{ episode.EP_NAME }}{% endblock %}
{% block content %}
<div class="page-header d-flex justify-content-between align-items-center">
    <div>
        <h1><i class="bi bi-calendar3 me-2 text-accent"></i>Schedules</h1>
        <p class="lead mb-0">{{ episode.WS_NAME }} - {{ episode.EP_NAME }}</p>
    </div>
    <a href="{{ url_for('employee.create_schedule', ep_id=episode.EP_ID) }}" class="btn btn-accent">
        <i class="bi bi-plus-circle me-2"></i>Add Schedule
    </a>
</div>
<div class="card"><div class="card-body p-0">
<table class="table table-hover mb-0">
<thead><tr><th>ID</th><th>Start Date</th><th>End Date</th><th>Actions</th></tr></thead>
<tbody>
{% for s in schedules %}
<tr>
    <td><code>{{ s.SCHEDULE_ID }}</code></td>
    <td>{{ s.START_DT }}</td>
    <td>{{ s.END_DT }}</td>
    <td>
        <form method="POST" action="{{ url_for('employee.delete_schedule', schedule_id=s.SCHEDULE_ID) }}" class="d-inline" onsubmit="return confirm('Delete?')">
            <button type="submit" class="btn btn-sm btn-dark text-danger"><i class="bi bi-trash"></i></button>
        </form>
    </td>
</tr>
{% else %}
<tr><td colspan="4" class="text-center text-muted py-4">No schedules.</td></tr>
{% endfor %}
</tbody>
</table>
</div></div>
<a href="{{ url_for('employee.list_episodes', ws_id=episode.WS_ID) }}" class="btn btn-dark mt-3">Back to Episodes</a>
{% endblock %}
