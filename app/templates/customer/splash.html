{% extends "base.html" %}

{% block title %}StreamVault - Premium Streaming{% endblock %}

{% block extra_head %}
<style>
    /* Override body for full-screen splash */
    body {
        overflow: hidden;
        height: 100vh;
        margin: 0;
        padding: 0;
    }
    
    /* Hide navbar during splash animation */
    .navbar {
        opacity: 0 !important;
        transition: opacity 0.5s ease-in;
    }
    
    .navbar.show {
        opacity: 1 !important;
    }
    
    /* Splash screen container */
    .splash-screen {
        position: fixed;
        top: 0;
        left: 0;
        width: 100vw;
        height: 100vh;
        background: #0d0d0d;
        display: flex;
        align-items: center;
        justify-content: center;
        z-index: 99999;
        opacity: 1;
        transition: opacity 0.8s ease-in;
    }
    
    .splash-screen.fade-out {
        opacity: 0;
        pointer-events: none;
        visibility: hidden;
    }
    
    /* Logo container */
    .splash-logo {
        font-family: 'Bebas Neue', Impact, 'Arial Black', sans-serif;
        font-size: 8rem;
        font-weight: 400;
        letter-spacing: 0.15em;
        text-transform: uppercase;
        display: flex;
        gap: 0.05em;
    }
    
    /* Individual letters for animation */
    .splash-logo span {
        display: inline-block;
        color: #e63946;
        text-shadow: 
            0 0 20px #e63946,
            0 0 40px rgba(230, 57, 70, 0.5),
            0 0 60px rgba(230, 57, 70, 0.3);
        opacity: 0;
        transform: translateY(100px) scale(0.3);
        animation: letterPop 0.6s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
    }
    
    /* Stagger animation for each letter */
    .splash-logo span:nth-child(1) { animation-delay: 0.1s; }
    .splash-logo span:nth-child(2) { animation-delay: 0.15s; }
    .splash-logo span:nth-child(3) { animation-delay: 0.2s; }
    .splash-logo span:nth-child(4) { animation-delay: 0.25s; }
    .splash-logo span:nth-child(5) { animation-delay: 0.3s; }
    .splash-logo span:nth-child(6) { animation-delay: 0.35s; }
    .splash-logo span:nth-child(7) { animation-delay: 0.4s; }
    .splash-logo span:nth-child(8) { animation-delay: 0.45s; }
    .splash-logo span:nth-child(9) { animation-delay: 0.5s; }
    .splash-logo span:nth-child(10) { animation-delay: 0.55s; }
    .splash-logo span:nth-child(11) { animation-delay: 0.6s; }
    
    /* Letter pop animation */
    @keyframes letterPop {
        0% {
            opacity: 0;
            transform: translateY(100px) scale(0.3) rotateX(90deg);
        }
        60% {
            opacity: 1;
            transform: translateY(-20px) scale(1.2) rotateX(-10deg);
        }
        100% {
            opacity: 1;
            transform: translateY(0) scale(1) rotateX(0deg);
        }
    }
    
    /* Arc effect animation */
    @keyframes arcSway {
        0%, 100% {
            transform: translateY(0) rotateX(0deg) rotateY(0deg);
        }
        25% {
            transform: translateY(-5px) rotateX(5deg) rotateY(-8deg);
        }
        75% {
            transform: translateY(-5px) rotateX(5deg) rotateY(8deg);
        }
    }
    
    .splash-logo.animate-arc {
        animation: arcSway 1.5s ease-in-out 1s infinite;
    }
    
    /* Main content (initially hidden) */
    main {
        opacity: 0;
        transition: opacity 0.5s ease-in;
    }
    
    main.show {
        opacity: 1;
    }
    
    /* Homepage hero section */
    .hero-section {
        min-height: 90vh;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        text-align: center;
        padding: 2rem;
        background: linear-gradient(135deg, rgba(230, 57, 70, 0.1) 0%, transparent 100%);
    }
    
    .hero-logo {
        font-family: 'Bebas Neue', Impact, sans-serif;
        font-size: 6rem;
        font-weight: 400;
        letter-spacing: 0.15em;
        text-transform: uppercase;
        color: var(--color-accent);
        margin-bottom: 2rem;
        text-shadow: 
            0 0 30px var(--color-accent),
            0 0 60px var(--color-accent-glow);
        transform: 
            scaleY(1.15)
            rotateX(5deg)
            rotateY(-8deg);
        transform-style: preserve-3d;
        animation: heroGlow 3s ease-in-out infinite;
    }
    
    @keyframes heroGlow {
        0%, 100% {
            text-shadow: 
                0 0 30px var(--color-accent),
                0 0 60px var(--color-accent-glow);
        }
        50% {
            text-shadow: 
                0 0 40px var(--color-accent),
                0 0 80px var(--color-accent-glow),
                0 0 100px rgba(230, 57, 70, 0.5);
        }
    }
    
    .hero-tagline {
        font-size: 1.5rem;
        color: var(--color-text-secondary);
        margin-bottom: 3rem;
        font-family: 'Montserrat', sans-serif;
    }
    
    .hero-buttons {
        display: flex;
        gap: 1rem;
        flex-wrap: wrap;
        justify-content: center;
    }
    
    .btn-hero {
        padding: 1rem 2.5rem;
        font-size: 1.1rem;
        font-weight: 600;
        border-radius: 8px;
        transition: all 0.3s ease;
    }
    
    .btn-hero:hover {
        transform: scale(1.05);
        box-shadow: 0 0 30px var(--color-accent-glow);
    }
</style>
{% endblock %}

{% block content %}
<!-- Splash Screen Animation -->
<div class="splash-screen" id="splashScreen" style="position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: #0d0d0d; display: flex; align-items: center; justify-content: center; z-index: 99999;">
    <div class="splash-logo" id="splashLogo" style="font-family: 'Bebas Neue', Impact, sans-serif; font-size: 8rem; font-weight: 400; letter-spacing: 0.15em; text-transform: uppercase;">
        <span>S</span>
        <span>t</span>
        <span>r</span>
        <span>e</span>
        <span>a</span>
        <span>m</span>
        <span>V</span>
        <span>a</span>
        <span>u</span>
        <span>l</span>
        <span>t</span>
    </div>
</div>

<!-- Main Homepage Content -->
<div class="hero-section">
    <h1 class="hero-logo">
        <span class="logo-letter">S</span>tream<span class="logo-letter">V</span>ault
    </h1>
    <p class="hero-tagline">
        Your Ultimate Destination for Premium Web Series Streaming
    </p>
    <div class="hero-buttons">
        <a href="{{ url_for('customer.home') }}" class="btn btn-accent btn-hero">
            <i class="bi bi-play-fill me-2"></i>Start Watching
        </a>
        <a href="{{ url_for('auth.register') }}" class="btn btn-outline-light btn-hero">
            <i class="bi bi-person-plus me-2"></i>Sign Up Free
        </a>
    </div>
</div>

<script>
    // Ensure animations start immediately
    (function() {
        'use strict';
        
        // Add arc animation after letters pop in
        setTimeout(function() {
            const logo = document.getElementById('splashLogo');
            if (logo) {
                logo.classList.add('animate-arc');
            }
        }, 900);
        
        // Fade out splash and show content
        setTimeout(function() {
            const splash = document.getElementById('splashScreen');
            const main = document.querySelector('main');
            const navbar = document.querySelector('.navbar');
            
            if (splash) {
                splash.classList.add('fade-out');
            }
            
            if (main) {
                main.classList.add('show');
            }
            
            if (navbar) {
                navbar.classList.add('show');
            }
            
            // Remove splash from DOM after fade
            setTimeout(function() {
                if (splash) {
                    splash.remove();
                }
            }, 800);
        }, 2300);
    })();
</script>
{% endblock %}

